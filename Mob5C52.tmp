[gd_scene load_steps=34 format=3 uid="uid://rkdnhqgf2hpj"]

[ext_resource type="Script" path="res://scripts/mob.gd" id="1_gwrgp"]
[ext_resource type="Texture2D" uid="uid://dudqwhadapw7u" path="res://assets/Pixel Art/Tiny RPG Character Asset Pack v1.02 -Full 15 Characters/Skeleton/Skeleton with shadows/Skeleton-Attack01.png" id="2_pjkhn"]
[ext_resource type="Texture2D" uid="uid://eapxcn30ymuu" path="res://assets/Pixel Art/Tiny RPG Character Asset Pack v1.02 -Full 15 Characters/Skeleton/Skeleton with shadows/Skeleton-Death.png" id="3_d1r8w"]
[ext_resource type="Texture2D" uid="uid://b7vdrbhufxdct" path="res://assets/Pixel Art/Tiny RPG Character Asset Pack v1.02 -Full 15 Characters/Skeleton/Skeleton with shadows/Skeleton-Idle.png" id="4_qcppx"]
[ext_resource type="Texture2D" uid="uid://b3bfq4skpiq5s" path="res://assets/Pixel Art/Tiny RPG Character Asset Pack v1.02 -Full 15 Characters/Skeleton/Skeleton with shadows/Skeleton-Walk.png" id="5_0xq2p"]

[sub_resource type="AtlasTexture" id="AtlasTexture_oywyt"]
atlas = ExtResource("2_pjkhn")
region = Rect2(0, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_0ay52"]
atlas = ExtResource("2_pjkhn")
region = Rect2(100, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_j14c1"]
atlas = ExtResource("2_pjkhn")
region = Rect2(200, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_nh4t8"]
atlas = ExtResource("2_pjkhn")
region = Rect2(300, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_gocbc"]
atlas = ExtResource("2_pjkhn")
region = Rect2(400, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_5flkn"]
atlas = ExtResource("2_pjkhn")
region = Rect2(500, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_fbpvq"]
atlas = ExtResource("3_d1r8w")
region = Rect2(0, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_3gcrj"]
atlas = ExtResource("3_d1r8w")
region = Rect2(100, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_a44ko"]
atlas = ExtResource("3_d1r8w")
region = Rect2(200, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_px41g"]
atlas = ExtResource("3_d1r8w")
region = Rect2(300, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_3qtxw"]
atlas = ExtResource("4_qcppx")
region = Rect2(0, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_dla4l"]
atlas = ExtResource("4_qcppx")
region = Rect2(100, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_r5fp8"]
atlas = ExtResource("4_qcppx")
region = Rect2(200, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_itx3f"]
atlas = ExtResource("4_qcppx")
region = Rect2(300, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_t7imb"]
atlas = ExtResource("4_qcppx")
region = Rect2(400, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_bqsqy"]
atlas = ExtResource("4_qcppx")
region = Rect2(500, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_j1g35"]
atlas = ExtResource("5_0xq2p")
region = Rect2(0, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_u8815"]
atlas = ExtResource("5_0xq2p")
region = Rect2(100, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_kxf6o"]
atlas = ExtResource("5_0xq2p")
region = Rect2(200, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_gaotk"]
atlas = ExtResource("5_0xq2p")
region = Rect2(300, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_0ytl2"]
atlas = ExtResource("5_0xq2p")
region = Rect2(400, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_f1wwv"]
atlas = ExtResource("5_0xq2p")
region = Rect2(500, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_1etts"]
atlas = ExtResource("5_0xq2p")
region = Rect2(600, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_yti6b"]
atlas = ExtResource("5_0xq2p")
region = Rect2(700, 0, 100, 100)

[sub_resource type="SpriteFrames" id="1"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_oywyt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0ay52")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j14c1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nh4t8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gocbc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5flkn")
}],
"loop": true,
"name": &"attack_1",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_fbpvq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3gcrj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a44ko")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_px41g")
}],
"loop": true,
"name": &"death",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_3qtxw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dla4l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r5fp8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_itx3f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t7imb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bqsqy")
}],
"loop": true,
"name": &"idle",
"speed": 6.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_j1g35")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u8815")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kxf6o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gaotk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0ytl2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f1wwv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1etts")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yti6b")
}],
"loop": true,
"name": &"walk",
"speed": 11.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_lnmqy"]

[sub_resource type="CircleShape2D" id="CircleShape2D_k8c7k"]
radius = 86.2667

[sub_resource type="CircleShape2D" id="CircleShape2D_1ktx0"]
radius = 21.3208

[node name="mob" type="CharacterBody2D" groups=["mobs"]]
y_sort_enabled = true
collision_mask = 0
script = ExtResource("1_gwrgp")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
y_sort_enabled = true
scale = Vector2(2, 2)
sprite_frames = SubResource("1")
animation = &"attack_1"
frame = 1
frame_progress = 0.0222247
offset = Vector2(0, -6)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_lnmqy")

[node name="detection_area" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="detection_area"]
scale = Vector2(1.02016, 1.00892)
shape = SubResource("CircleShape2D_k8c7k")

[node name="enemy_hitbox" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="enemy_hitbox"]
position = Vector2(3, -11)
scale = Vector2(1.07876, 1.00397)
shape = SubResource("CircleShape2D_1ktx0")

[node name="receive_damage_cooldown" type="Timer" parent="."]
wait_time = 0.5

[node name="deal_attack_timer" type="Timer" parent="."]

[node name="mob_attack_speed" type="Timer" parent="."]

[connection signal="body_entered" from="detection_area" to="." method="_on_detection_area_body_entered"]
[connection signal="body_exited" from="detection_area" to="." method="_on_detection_area_body_exited"]
[connection signal="body_entered" from="enemy_hitbox" to="." method="_on_enemy_hitbox_body_entered"]
[connection signal="body_exited" from="enemy_hitbox" to="." method="_on_enemy_hitbox_body_exited"]
[connection signal="timeout" from="receive_damage_cooldown" to="." method="_on_receive_damage_cooldown_timeout"]
[connection signal="timeout" from="deal_attack_timer" to="." method="_on_deal_attack_timer_timeout"]
[connection signal="timeout" from="mob_attack_speed" to="." method="_on_mob_attack_speed_timeout"]
